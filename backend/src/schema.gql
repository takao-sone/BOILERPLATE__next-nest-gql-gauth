# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Auth {
  """ログインしているユーザーの情報"""
  authenticatedUser: User!
}

input CreateUserInput {
  """確認用パスワード"""
  confirmationPassword: String!

  """メールアドレス"""
  email: String!

  """パスワード（8~64文字）"""
  password: String!

  """ユーザーに付与する権限のdisplayedId"""
  roleDisplayedId: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input LogInInput {
  """登録したメールアドレス"""
  email: String!

  """登録したパスワード"""
  password: String!
}

type Mutation {
  "\n      権限: ADMIN \n\n      ユーザーを作成するオペレーション\n    "
  createUser(data: CreateUserInput!): User!

  "\n      権限: ALL \n\n      ログイン用オペレーション\n    "
  logIn(data: LogInInput!): Auth!

  "\n      権限: ログイン \n\n      ログアウト用オペレーション\n    "
  logOut: String!

  "\n      権限: ログイン \n\n      ユーザーのメールアドレスを更新するオペレーション\n    "
  updateUserEmail(data: UpdateUserEmailInput!): User!

  "\n      権限: ADMIN \n\n      ユーザーの権限を更新するオペレーション \n\n      自分自身の権限は更新できない\n    "
  updateUserRole(data: UpdateUserRoleInput!): User!
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
}

type Query {
  "\n      権限: ログイン \n\n      ログイン中のユーザー情報を取得するオペレーション\n    "
  getAuthenticatedUser: Auth!

  "\n      権限: ADMIN \n\n      すべてのユーザーを取得するオペレーション \n\n    "
  getUserConnection: UserConnection!

  "\n      権限: ADMIN \n\n      すべてのユーザーを取得するオペレーション \n\n    "
  getUsers: [User!]!
}

type Role {
  """DBへのデータ作成時間"""
  createdAt: DateTime!

  """クライアントアプリケーション側へ表示するID"""
  displayedId: String!

  """ロールの名前"""
  name: String!

  """DBへのデータ更新時間"""
  updatedAt: DateTime!
}

input UpdateUserEmailInput {
  """新しいメールアドレス"""
  newEmail: String!
}

input UpdateUserRoleInput {
  """更新対象ユーザーの新しい権限のdisplaydId"""
  newRoleDisplayedId: String!

  """更新対象ユーザーのdisplayedId"""
  updateTargetUserDisplayedId: String!
}

type User {
  """DBへのデータ作成時間"""
  createdAt: DateTime!

  """クライアントアプリケーション側へ表示するID"""
  displayedId: String!

  """DBへのデータ更新時間"""
  updatedAt: DateTime!

  """ユーザー認証情報"""
  userCredential: UserCredential!

  """ユーザー権限"""
  userRole: Role!
}

type UserConnection {
  edges: [UserEdge!]
  pageInfo: PageInfo!
  totalCount: Int!
}

type UserCredential {
  """DBへのデータ作成時間"""
  createdAt: DateTime!

  """メールアドレス"""
  email: String!

  """DBへのデータ更新時間"""
  updatedAt: DateTime!
}

type UserEdge {
  cursor: String!
  node: User!
}